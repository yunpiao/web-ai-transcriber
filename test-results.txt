npm warn Unknown user config "home". This will stop working in the next major version of npm.

> smart-search-extension@4.7.0 test:e2e:headless
> HEADLESS=true jest --config=jest.e2e.config.js

  console.warn
    [1m[43m[30m
      Degraded performance warning:[0m[33m
      Launching Chrome on Mac Silicon (arm64) from an x64 Node installation results in
      Rosetta translating the Chrome binary, even if Chrome is already arm64. This would
      result in huge performance issues. To resolve this, you must run Puppeteer with
      a version of Node built for arm64.

      54 |   }
      55 |   
    > 56 |   const browser = await puppeteer.launch(launchOptions);
         |                                   ^
      57 |   
      58 |   return browser;
      59 | }

      at ChromeLauncher.launch (node_modules/puppeteer-core/src/node/ChromeLauncher.ts:42:17)
      at PuppeteerNode.launch (node_modules/puppeteer-core/src/node/PuppeteerNode.ts:164:27)
      at launch (tests/e2e/setup.js:56:35)
      at Object.launchBrowserWithExtension (tests/e2e/history.test.js:18:21)

  console.warn
    [1m[43m[30m
      Degraded performance warning:[0m[33m
      Launching Chrome on Mac Silicon (arm64) from an x64 Node installation results in
      Rosetta translating the Chrome binary, even if Chrome is already arm64. This would
      result in huge performance issues. To resolve this, you must run Puppeteer with
      a version of Node built for arm64.

      54 |   }
      55 |   
    > 56 |   const browser = await puppeteer.launch(launchOptions);
         |                                   ^
      57 |   
      58 |   return browser;
      59 | }

      at ChromeLauncher.launch (node_modules/puppeteer-core/src/node/ChromeLauncher.ts:42:17)
      at PuppeteerNode.launch (node_modules/puppeteer-core/src/node/PuppeteerNode.ts:164:27)
      at launch (tests/e2e/setup.js:56:35)
      at Object.launchBrowserWithExtension (tests/e2e/duration.test.js:17:21)

  console.warn
    [1m[43m[30m
      Degraded performance warning:[0m[33m
      Launching Chrome on Mac Silicon (arm64) from an x64 Node installation results in
      Rosetta translating the Chrome binary, even if Chrome is already arm64. This would
      result in huge performance issues. To resolve this, you must run Puppeteer with
      a version of Node built for arm64.

      54 |   }
      55 |   
    > 56 |   const browser = await puppeteer.launch(launchOptions);
         |                                   ^
      57 |   
      58 |   return browser;
      59 | }

      at ChromeLauncher.launch (node_modules/puppeteer-core/src/node/ChromeLauncher.ts:42:17)
      at PuppeteerNode.launch (node_modules/puppeteer-core/src/node/PuppeteerNode.ts:164:27)
      at launch (tests/e2e/setup.js:56:35)
      at Object.launchBrowserWithExtension (tests/e2e/options.test.js:18:21)

  console.warn
    [1m[43m[30m
      Degraded performance warning:[0m[33m
      Launching Chrome on Mac Silicon (arm64) from an x64 Node installation results in
      Rosetta translating the Chrome binary, even if Chrome is already arm64. This would
      result in huge performance issues. To resolve this, you must run Puppeteer with
      a version of Node built for arm64.

      54 |   }
      55 |   
    > 56 |   const browser = await puppeteer.launch(launchOptions);
         |                                   ^
      57 |   
      58 |   return browser;
      59 | }

      at ChromeLauncher.launch (node_modules/puppeteer-core/src/node/ChromeLauncher.ts:42:17)
      at PuppeteerNode.launch (node_modules/puppeteer-core/src/node/PuppeteerNode.ts:164:27)
      at launch (tests/e2e/setup.js:56:35)
      at Object.launchBrowserWithExtension (tests/e2e/summary.test.js:17:21)

  console.warn
    [1m[43m[30m
      Degraded performance warning:[0m[33m
      Launching Chrome on Mac Silicon (arm64) from an x64 Node installation results in
      Rosetta translating the Chrome binary, even if Chrome is already arm64. This would
      result in huge performance issues. To resolve this, you must run Puppeteer with
      a version of Node built for arm64.

      54 |   }
      55 |   
    > 56 |   const browser = await puppeteer.launch(launchOptions);
         |                                   ^
      57 |   
      58 |   return browser;
      59 | }

      at ChromeLauncher.launch (node_modules/puppeteer-core/src/node/ChromeLauncher.ts:42:17)
      at PuppeteerNode.launch (node_modules/puppeteer-core/src/node/PuppeteerNode.ts:164:27)
      at launch (tests/e2e/setup.js:56:35)
      at Object.launchBrowserWithExtension (tests/e2e/tracking.test.js:19:21)

  console.log
    ğŸ”§ æ‰©å±•ID: foeipomgchnhopapcplnofafnifphfim

      at Object.log (tests/e2e/summary.test.js:19:13)

  console.log
    Debug info: {
      emptyStateExists: true,
      emptyStateHidden: false,
      timelineExists: true,
      timelineHidden: true,
      loadingHidden: true
    }

      at Object.log (tests/e2e/history.test.js:76:13)

  console.log
    âœ… å·²å¯ç”¨é¡µé¢è¿½è¸ªåŠŸèƒ½

      at Object.log (tests/e2e/duration.test.js:30:13)

  console.log
    åˆå§‹è®°å½•æ•°: 0

      at Object.log (tests/e2e/tracking.test.js:61:13)

  console.log
    é¡µé¢å·²åŠ è½½ï¼Œç­‰å¾…6ç§’è®°å½•...

      at Object.log (tests/e2e/tracking.test.js:75:13)

  console.log
    âœ… å·²å¯ç”¨é¡µé¢è¿½è¸ª

      at Object.log (tests/e2e/summary.test.js:81:15)

  console.log
    ç­‰å¾…å®Œæˆï¼Œæ£€æŸ¥è®°å½•...

      at Object.log (tests/e2e/tracking.test.js:80:13)

PASS tests/e2e/options.test.js (24.849 s)
  è®¾ç½®é¡µé¢E2Eæµ‹è¯•
    âœ“ åº”è¯¥èƒ½å¤Ÿæ‰“å¼€è®¾ç½®é¡µé¢ (3458 ms)
    âœ“ åº”è¯¥èƒ½å¤Ÿå¯ç”¨é¡µé¢è¿½è¸ªåŠŸèƒ½ (3411 ms)
    âœ“ åº”è¯¥èƒ½å¤Ÿåˆ‡æ¢æœç´¢å¼•æ“é€‰é¡¹ (4958 ms)
    âœ“ åº”è¯¥èƒ½å¤ŸæŸ¥çœ‹å†å²è®°å½•é“¾æ¥ (2289 ms)
    âœ“ åº”è¯¥èƒ½å¤Ÿå¯ç”¨æ·±åº¦æ€è€ƒåŠŸèƒ½ (4835 ms)

  console.log
    æœ€ç»ˆè®°å½•æ•°: 0

      at Object.log (tests/e2e/tracking.test.js:88:13)

  console.log
    ğŸ”§ æ‰©å±•ID: foeipomgchnhopapcplnofafnifphfim

      at Object.log (tests/e2e/tracking.test.js:128:13)

  console.log
    ğŸ“„ è®¿é—®æˆåŠŸ: https://www.baidu.com

      at Object.log (tests/e2e/summary.test.js:100:17)

  console.log
    âš™ï¸  é…ç½®é¡µé¢çŠ¶æ€: { hasEnableCheckbox: true, hasSaveButton: true }

      at Object.log (tests/e2e/tracking.test.js:141:13)

  console.log
    âœ… é…ç½®å·²ä¿å­˜ï¼Œè¿½è¸ªåŠŸèƒ½å¯ç”¨: true

      at Object.log (tests/e2e/tracking.test.js:151:13)

  console.log
    ğŸ“„ å·²æ‰“å¼€æµ‹è¯•é¡µé¢

      at Object.log (tests/e2e/duration.test.js:56:13)

  console.log
    ğŸ“„ è®¿é—®æˆåŠŸ: https://example.com

      at Object.log (tests/e2e/summary.test.js:100:17)

  console.log
    âœ… åˆå§‹è®°å½•æ•°: 0

      at Object.log (tests/e2e/tracking.test.js:159:13)

  console.log
    ğŸŒ æ­£åœ¨è®¿é—® baidu.com...

      at Object.log (tests/e2e/tracking.test.js:173:13)

  console.log
    â±ï¸ å·²åœç•™6ç§’

      at Object.log (tests/e2e/duration.test.js:60:13)

  console.log
    âœ… å‘ç° 1 æ¡è®°å½•

      at Object.log (tests/e2e/duration.test.js:71:13)

  console.log
    âœ… è®°å½•åŒ…å«æ—¶é•¿ä¿¡æ¯

      at Object.log (tests/e2e/duration.test.js:80:13)

  console.log
    âœ… æˆåŠŸè®¿é—® 2/2 ä¸ªé¡µé¢

      at Object.log (tests/e2e/summary.test.js:110:13)

  console.log
    æ—¶é•¿æ˜¾ç¤º: [ 'â±ï¸ 1å°æ—¶1åˆ†', 'â±ï¸ 2åˆ†30ç§’', 'â±ï¸ 30ç§’' ]

      at Object.log (tests/e2e/duration.test.js:150:13)

  console.log
    âœ… æ—¶é•¿æ ¼å¼åŒ–æ­£ç¡®

      at Object.log (tests/e2e/duration.test.js:157:13)

  console.log
    ğŸ“Š ä»Šå¤©çš„è®°å½•æ•°: 1

      at Object.log (tests/e2e/summary.test.js:132:13)

  console.log
    ğŸ’¬ æç¤ºä¿¡æ¯: æ€»ç»“å¤±è´¥ï¼šCannot read properties of undefined (reading 'url')

      at log (tests/e2e/summary.test.js:139:17)
          at Array.map (<anonymous>)
          at Array.map (<anonymous>)

  console.log
    âœ… æ—¶é•¿å›¾æ ‡å’Œæ ·å¼æ­£ç¡®

      at Object.log (tests/e2e/duration.test.js:210:13)

  console.log
    ğŸ“¦ ç‚¹å‡»å‰çš„storage: {
      skipPromptTemplate: true,
      tempSearchText: 'è¯·å¸®æˆ‘æ€»ç»“ä¸€ä¸‹ä»Šå¤©ï¼ˆ2025-10-21ï¼‰çš„æµè§ˆè®°å½•ï¼Œå…±æµè§ˆäº† 1 ä¸ªç½‘é¡µã€‚ä»¥ä¸‹æ˜¯è¯¦ç»†çš„æµè§ˆè®°å½•ï¼š\n' +
        '\n' +
        '1. [16:39] Example Domain\n' +
        '   ç½‘å€: https://example.com/\n' +
        '   åŸŸå: example.com\n' +
        '   å†…å®¹æ‘˜è¦: Example Domain This domain is for use in documentation examples without needing permission. Avoid use in operations. Learn more\n' +
        '\n' +
        '\n' +
        'è¯·æ ¹æ®ä»¥ä¸Šæµè§ˆè®°å½•ï¼Œæ€»ç»“ä»Šå¤©çš„æµè§ˆä¸»é¢˜å’Œå…³æ³¨é‡ç‚¹ï¼Œå¹¶ç»™å‡ºä»¥ä¸‹å†…å®¹ï¼š\n' +
        '1. ä¸»è¦æµè§ˆçš„ç½‘ç«™å’Œç±»å‹\n' +
        '2. å…³æ³¨çš„ä¸»è¦è¯é¢˜æˆ–é¢†åŸŸ\n' +
        '3. æµè§ˆæ—¶é—´åˆ†å¸ƒç‰¹ç‚¹\n' +
        '4. å»ºè®®å’Œæ´å¯Ÿï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰'
    }

      at Object.log (tests/e2e/summary.test.js:186:15)

  console.log
    âœ… æ­£ç¡®å¤„ç†æ—§è®°å½•: â±ï¸ æœªè®°å½•

      at Object.log (tests/e2e/duration.test.js:253:13)

PASS tests/e2e/duration.test.js (60.965 s)
  æµè§ˆæ—¶é•¿åŠŸèƒ½E2Eæµ‹è¯•
    âœ“ åº”è¯¥åœ¨åœç•™5ç§’ååˆ›å»ºåŒ…å«æ—¶é•¿çš„è®°å½• (37284 ms)
    âœ“ åº”è¯¥åœ¨å†å²è®°å½•é¡µé¢æ˜¾ç¤ºæ ¼å¼åŒ–çš„æ—¶é•¿ (3872 ms)
    âœ“ åº”è¯¥æ˜¾ç¤ºæ—¶é•¿å›¾æ ‡å’Œæ ·å¼ (3981 ms)
    âœ“ åº”è¯¥æ­£ç¡®å¤„ç†æ²¡æœ‰æ—¶é•¿çš„æ—§è®°å½• (4084 ms)

  console.log
    ğŸ“¦ ç‚¹å‡»åçš„storage: {
      skipPromptTemplate: true,
      tempSearchText: 'è¯·å¸®æˆ‘æ€»ç»“ä¸€ä¸‹ä»Šå¤©ï¼ˆ2025-10-21ï¼‰çš„æµè§ˆè®°å½•ï¼Œå…±æµè§ˆäº† 1 ä¸ªç½‘é¡µã€‚ä»¥ä¸‹æ˜¯è¯¦ç»†çš„æµè§ˆè®°å½•ï¼š\n' +
        '\n' +
        '1. [16:39] Example Domain\n' +
        '   ç½‘å€: https://example.com/\n' +
        '   åŸŸå: example.com\n' +
        '   å†…å®¹æ‘˜è¦: Example Domain This domain is for use in documentation examples without needing permission. Avoid use in operations. Learn more\n' +
        '\n' +
        '\n' +
        'è¯·æ ¹æ®ä»¥ä¸Šæµè§ˆè®°å½•ï¼Œæ€»ç»“ä»Šå¤©çš„æµè§ˆä¸»é¢˜å’Œå…³æ³¨é‡ç‚¹ï¼Œå¹¶ç»™å‡ºä»¥ä¸‹å†…å®¹ï¼š\n' +
        '1. ä¸»è¦æµè§ˆçš„ç½‘ç«™å’Œç±»å‹\n' +
        '2. å…³æ³¨çš„ä¸»è¦è¯é¢˜æˆ–é¢†åŸŸ\n' +
        '3. æµè§ˆæ—¶é—´åˆ†å¸ƒç‰¹ç‚¹\n' +
        '4. å»ºè®®å’Œæ´å¯Ÿï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰'
    }

      at Object.log (tests/e2e/summary.test.js:204:15)

  console.log
    âš ï¸ é¡µé¢åŠ è½½å‡ºé”™: Navigation timeout of 20000 ms exceeded

      at Object.log (tests/e2e/tracking.test.js:211:15)

  console.log
    âš ï¸ è¿™å¯èƒ½æ˜¯ç½‘ç»œé—®é¢˜æˆ–headlessæ¨¡å¼é™åˆ¶ï¼Œæµ‹è¯•å°†éªŒè¯åŸºæœ¬åŠŸèƒ½

      at Object.log (tests/e2e/tracking.test.js:212:15)

  console.log
    âœ“ å…³é—­æµ‹è¯•é¡µé¢

      at Object.log (tests/e2e/tracking.test.js:220:13)

  console.log
    â±ï¸  ç­‰å¾…2ç§’è®©æ•°æ®å†™å…¥æ•°æ®åº“...

      at Object.log (tests/e2e/tracking.test.js:224:13)

  console.log
    ğŸ“ æ€»ç»“æ–‡æœ¬é•¿åº¦: 352

      at Object.log (tests/e2e/summary.test.js:249:17)

FAIL tests/e2e/summary.test.js (68.219 s)
  æµè§ˆè®°å½•æ€»ç»“åŠŸèƒ½E2Eæµ‹è¯•
    âœ“ åº”è¯¥èƒ½å¤Ÿåœ¨å†å²è®°å½•é¡µé¢æ˜¾ç¤ºæ€»ç»“æŒ‰é’® (5592 ms)
    âœ“ åº”è¯¥èƒ½å¤Ÿåœ¨æ²¡æœ‰è®°å½•æ—¶æ˜¾ç¤ºæç¤º (2994 ms)
    âœ“ åº”è¯¥èƒ½å¤Ÿç”ŸæˆçœŸå®çš„æµè§ˆè®°å½• (34984 ms)
    âœ• åº”è¯¥èƒ½å¤Ÿç‚¹å‡»æ€»ç»“æŒ‰é’®å¹¶ç”Ÿæˆæ€»ç»“ (8083 ms)
    âœ“ åº”è¯¥èƒ½å¤Ÿå°†æ€»ç»“æ•°æ®ä¿å­˜åˆ°storage (5267 ms)
    âœ“ åº”è¯¥èƒ½å¤ŸéªŒè¯æ€»ç»“æ–‡æœ¬çš„æ ¼å¼ (5288 ms)

  â— æµè§ˆè®°å½•æ€»ç»“åŠŸèƒ½E2Eæµ‹è¯• â€º åº”è¯¥èƒ½å¤Ÿç‚¹å‡»æ€»ç»“æŒ‰é’®å¹¶ç”Ÿæˆæ€»ç»“

    expect(received).toContain(expected) // indexOf

    Expected substring: "å·²å‡†å¤‡å¥½ä»Šå¤©çš„æµè§ˆæ€»ç»“"
    Received string:    "æ€»ç»“å¤±è´¥ï¼šCannot read properties of undefined (reading 'url')"

      149 |
      150 |       // éªŒè¯æç¤ºä¿¡æ¯
    > 151 |       expect(alertMessage).toContain('å·²å‡†å¤‡å¥½ä»Šå¤©çš„æµè§ˆæ€»ç»“');
          |                            ^
      152 |       expect(alertMessage).toContain('æ¡è®°å½•');
      153 |     } else {
      154 |       console.log('âš ï¸  ä»Šå¤©æ²¡æœ‰æµè§ˆè®°å½•ï¼Œè·³è¿‡æ€»ç»“æµ‹è¯•');

      at Object.toContain (tests/e2e/summary.test.js:151:28)

  console.log
    ğŸ“Š æœ€ç»ˆè®°å½•æ•°: 0

      at Object.log (tests/e2e/tracking.test.js:231:13)

  console.log
    âš ï¸ é¡µé¢æœªæˆåŠŸåŠ è½½ï¼Œè·³è¿‡è®°å½•éªŒè¯

      at Object.log (tests/e2e/tracking.test.js:253:15)

  console.log
    å†å²è®°å½•æ€»æ•°: 0

      at Object.log (tests/e2e/tracking.test.js:272:13)

  console.log
    é¡µé¢çŠ¶æ€: { emptyVisible: true, timelineVisible: false, count: 0 }

      at Object.log (tests/e2e/tracking.test.js:290:13)

PASS tests/e2e/tracking.test.js (78.207 s)
  è¿½è¸ªåŠŸèƒ½E2Eæµ‹è¯•
    âœ“ åº”è¯¥èƒ½å¤Ÿå¯ç”¨è¿½è¸ªåŠŸèƒ½ (5862 ms)
    âœ“ åº”è¯¥åœ¨é¡µé¢åœç•™5ç§’åè®°å½• (14663 ms)
    âœ“ åº”è¯¥åœ¨åŠŸèƒ½ç¦ç”¨æ—¶ä¸è®°å½• (8578 ms)
    âœ“ åº”è¯¥èƒ½å¤Ÿè®¿é—®çœŸå®ç½‘é¡µå¹¶åˆ›å»ºè®°å½• (38119 ms)
    âœ“ åº”è¯¥èƒ½å¤Ÿæ‰“å¼€å†å²è®°å½•å¹¶æŸ¥çœ‹ç»Ÿè®¡ (5131 ms)

FAIL tests/e2e/history.test.js (99.601 s)
  å†å²è®°å½•é¡µé¢E2Eæµ‹è¯•
    âœ“ åº”è¯¥èƒ½å¤Ÿæ‰“å¼€å†å²è®°å½•é¡µé¢ (3687 ms)
    âœ“ åº”è¯¥æ˜¾ç¤ºç©ºçŠ¶æ€æˆ–è®°å½•åˆ—è¡¨ (1364 ms)
    âœ“ åº”è¯¥æ˜¾ç¤ºç»Ÿè®¡ä¿¡æ¯ (2788 ms)
    âœ“ æœç´¢æ¡†åº”è¯¥å­˜åœ¨ä¸”å¯è¾“å…¥ (2064 ms)
    âœ“ å¯¼å‡ºæŒ‰é’®åº”è¯¥å¯ç‚¹å‡» (1982 ms)
    âœ“ å¯¼å‡ºåŠŸèƒ½åº”è¯¥èƒ½å¤Ÿå¯¼å‡ºæ•°æ® (5388 ms)
    âœ• ç­›é€‰åç‚¹å‡»æ¸…é™¤åº”è¯¥æ˜¾ç¤ºæ‰€æœ‰æ•°æ® (5255 ms)
    âœ“ åº”è¯¥æ˜¾ç¤ºæ—¥å†ç»„ä»¶ (4386 ms)
    âœ• åº”è¯¥æ˜¾ç¤º24å°æ—¶é€‰æ‹©å™¨ (3199 ms)
    âœ• åº”è¯¥èƒ½å¤Ÿç‚¹å‡»æ—¥å†æ—¥æœŸ (2570 ms)
    âœ• åº”è¯¥èƒ½å¤Ÿç‚¹å‡»å°æ—¶æŒ‰é’® (2600 ms)
    âœ• åº”è¯¥èƒ½å¤Ÿåˆ‡æ¢æœˆä»½ (3139 ms)
    âœ• æ¸…é™¤ç­›é€‰æŒ‰é’®åº”è¯¥èƒ½å¤Ÿé‡ç½®æ‰€æœ‰ç­›é€‰ (3828 ms)
    âœ• æ—¥æœŸç­›é€‰åº”è¯¥èƒ½å¤Ÿæ­£ç¡®è¿‡æ»¤æ•°æ® (6857 ms)
    âœ“ å°æ—¶ç­›é€‰åº”è¯¥èƒ½å¤Ÿæ­£ç¡®è¿‡æ»¤æ•°æ® (6356 ms)
    âœ“ æ—¥å†åº”è¯¥æ ‡è®°æœ‰è®°å½•çš„æ—¥æœŸ (3834 ms)
    UIä¼˜åŒ–åŠŸèƒ½E2Eæµ‹è¯•
      âœ“ ç­›é€‰å™¨åº”è¯¥é»˜è®¤æŠ˜å  (1768 ms)
      âœ“ ç‚¹å‡»ç­›é€‰å™¨æ ‡é¢˜åº”è¯¥èƒ½å¤Ÿå±•å¼€/æŠ˜å  (2269 ms)
      âœ“ æ— ç­›é€‰æ—¶æ¨ªå¹…åº”è¯¥éšè— (1758 ms)
      âœ“ æœç´¢æ—¶åº”è¯¥æ˜¾ç¤ºç­›é€‰æ¨ªå¹… (3477 ms)
      âœ“ ç‚¹å‡»å¿«é€Ÿç­›é€‰åº”è¯¥æ˜¾ç¤ºæ¨ªå¹… (3487 ms)
      âœ“ æ¨ªå¹…çš„æ¸…é™¤æŒ‰é’®åº”è¯¥èƒ½å¤Ÿæ¸…é™¤ç­›é€‰ (3875 ms)
      âœ“ æœªæ¥æœˆä»½çš„ä¸‹ä¸€æœˆæŒ‰é’®åº”è¯¥è¢«ç¦ç”¨ (2435 ms)
      âœ“ åº”è¯¥èƒ½å¤Ÿé€‰æ‹©è¿‡å»çš„æœˆä»½ (2776 ms)
      âœ“ å¿«æ·ç­›é€‰æŒ‰é’®åº”è¯¥æœ‰æ­£ç¡®çš„activeçŠ¶æ€ (2269 ms)
      âœ“ é€‰æ‹©æ—¥æœŸåå¿«é€Ÿç­›é€‰åº”è¯¥è¢«æ¸…é™¤ (3259 ms)
      âœ“ æ¨ªå¹…åº”è¯¥æ˜¾ç¤ºç»„åˆç­›é€‰æ¡ä»¶ (4777 ms)
      âœ“ å°æ—¶é€‰æ‹©å™¨åœ¨æœªé€‰æ‹©æ—¥æœŸæ—¶åº”è¯¥æ˜¾ç¤ºæç¤º (2255 ms)

  â— å†å²è®°å½•é¡µé¢E2Eæµ‹è¯• â€º ç­›é€‰åç‚¹å‡»æ¸…é™¤åº”è¯¥æ˜¾ç¤ºæ‰€æœ‰æ•°æ®

    expect(received).toBe(expected) // Object.is equality

    Expected: 1
    Received: 2

      246 |       // åº”è¯¥åªæ˜¾ç¤º1æ¡è®°å½•
      247 |       cardCount = await page.$$eval('.history-card', cards => cards.length);
    > 248 |       expect(cardCount).toBe(1);
          |                         ^
      249 |       
      250 |       // ç‚¹å‡»æ¸…é™¤ç­›é€‰æŒ‰é’®
      251 |       await page.click('#clear-filter');

      at Object.toBe (tests/e2e/history.test.js:248:25)

  â— å†å²è®°å½•é¡µé¢E2Eæµ‹è¯• â€º åº”è¯¥æ˜¾ç¤º24å°æ—¶é€‰æ‹©å™¨

    expect(received).toBe(expected) // Object.is equality

    Expected: 24
    Received: 0

      307 |     // æ£€æŸ¥æ˜¯å¦ç”Ÿæˆ24ä¸ªå°æ—¶æŒ‰é’®
      308 |     const hourButtons = await page.$$('.hour-btn');
    > 309 |     expect(hourButtons.length).toBe(24);
          |                                ^
      310 |     
      311 |     await page.close();
      312 |   });

      at Object.toBe (tests/e2e/history.test.js:309:32)

  â— å†å²è®°å½•é¡µé¢E2Eæµ‹è¯• â€º åº”è¯¥èƒ½å¤Ÿç‚¹å‡»æ—¥å†æ—¥æœŸ

    expect(received).not.toBeNull()

    Received: null

      326 |     // æ£€æŸ¥æ˜¯å¦æœ‰é€‰ä¸­çŠ¶æ€
      327 |     const selectedDay = await page.$('.calendar-day.selected');
    > 328 |     expect(selectedDay).not.toBeNull();
          |                             ^
      329 |     
      330 |     await page.close();
      331 |   });

      at Object.toBeNull (tests/e2e/history.test.js:328:29)

  â— å†å²è®°å½•é¡µé¢E2Eæµ‹è¯• â€º åº”è¯¥èƒ½å¤Ÿç‚¹å‡»å°æ—¶æŒ‰é’®

    expect(received).not.toBeNull()

    Received: null

      345 |     // ç‚¹å‡»ç¬¬ä¸€ä¸ªå°æ—¶æŒ‰é’®
      346 |     const firstHour = await page.$('.hour-btn[data-hour="0"]');
    > 347 |     expect(firstHour).not.toBeNull();
          |                           ^
      348 |     
      349 |     await firstHour.click();
      350 |     await wait(500);

      at Object.toBeNull (tests/e2e/history.test.js:347:27)

  â— å†å²è®°å½•é¡µé¢E2Eæµ‹è¯• â€º åº”è¯¥èƒ½å¤Ÿåˆ‡æ¢æœˆä»½

    expect(received).not.toBe(expected) // Object.is equality

    Expected: not "2025å¹´10æœˆ"

      370 |     
      371 |     const newMonth = await page.$eval('#current-month', el => el.textContent);
    > 372 |     expect(newMonth).not.toBe(initialMonth);
          |                          ^
      373 |     
      374 |     // ç‚¹å‡»ä¸Šä¸€æœˆ
      375 |     await page.click('#prev-month');

      at Object.toBe (tests/e2e/history.test.js:372:26)

  â— å†å²è®°å½•é¡µé¢E2Eæµ‹è¯• â€º æ¸…é™¤ç­›é€‰æŒ‰é’®åº”è¯¥èƒ½å¤Ÿé‡ç½®æ‰€æœ‰ç­›é€‰

    No element found for selector: #clear-filter

      399 |     
      400 |     // ç‚¹å‡»æ¸…é™¤ç­›é€‰
    > 401 |     await page.click('#clear-filter');
          |     ^
      402 |     await wait(500);
      403 |     
      404 |     // éªŒè¯ç­›é€‰å·²æ¸…é™¤

      at assert (node_modules/puppeteer-core/src/util/assert.ts:19:11)
      at CdpFrame.click (node_modules/puppeteer-core/src/api/Frame.ts:1065:11)
      at Object.<anonymous> (tests/e2e/history.test.js:401:5)

  â— å†å²è®°å½•é¡µé¢E2Eæµ‹è¯• â€º æ—¥æœŸç­›é€‰åº”è¯¥èƒ½å¤Ÿæ­£ç¡®è¿‡æ»¤æ•°æ®

    expect(received).toBe(expected) // Object.is equality

    Expected: 2
    Received: 3

      483 |       // åº”è¯¥åªæ˜¾ç¤ºä»Šå¤©çš„2æ¡è®°å½•
      484 |       cardCount = await page.$$eval('.history-card', cards => cards.length);
    > 485 |       expect(cardCount).toBe(2);
          |                         ^
      486 |     }
      487 |     
      488 |     // æ¸…ç†æµ‹è¯•æ•°æ®

      at Object.toBe (tests/e2e/history.test.js:485:25)

Test Suites: 2 failed, 3 passed, 5 total
Tests:       8 failed, 40 passed, 48 total
Snapshots:   0 total
Time:        99.853 s, estimated 412 s
Ran all test suites.
